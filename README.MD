Below is a draft README.md you can drop at the root of Wolf_v2/ (or paste into your projectâ€™s wiki) so that anyone can quickly see how everything fits together, how to wire up the mobile joysticks, and how to launch the game.

# Wolf_v2 â€” Top-Down Raycasting Game Prototype

A modular, object-oriented MATLAB prototype of a multiplayer raycaster game with mobile-joystick input.

---

## ğŸ—‚ Project Structure

Wolf_v2/
â”œâ”€â”€ run2d.m              # Main entry point + displayContinuousMap
â”œâ”€â”€ README.md            # â† (this file)
â”œâ”€â”€ Objects/
â”‚   â”œâ”€â”€ GameState.m      # Orchestrates players, sprites, map, input & logic
â”‚   â”œâ”€â”€ Player.m         # Player handle class (position, input, move, interact, shoot)
â”‚   â”œâ”€â”€ Sprite.m         # Enemy handle class (DirectChaser, SmartChaser A* pathfinding)
â”‚   â”œâ”€â”€ Joystick.m       # Wrapper around web API to poll mobile joystick state
â”‚   â”œâ”€â”€ MapManager.m     # Map data and collision/interactable-tile queries
â”‚   â””â”€â”€ SpriteManager.m  # Spawns, tracks & removes Sprite instances
â”œâ”€â”€ managers/
â”‚   â””â”€â”€ SpriteManager.m  # (alias, if you prefer grouping)
â””â”€â”€ web_joystick/        # Flask & HTML/JS mobile joystick server
â”œâ”€â”€ app3.py          # Python Flask API for /api/joystick endpoints
â””â”€â”€ templates/
â””â”€â”€ joystick2.html  # NippleJS-powered on-screen joysticks + buttons

---

## âš™ï¸ Prerequisites

- **MATLAB** (R2021a or newer)  
- **Python 3** with:
  - `Flask`
  - `flask-cors`
  - `pyserial` (if reading from a hardware joystick)
- **NPM-served** `nipplejs` (included via CDN in HTML)

---

## ğŸš€ Getting Started

### 1. Run the Flask joystick server

1. Open a terminal in `web_joystick/`.
2. Install dependencies (ideally in a virtualenv):
   ```bash
   pip install Flask flask-cors pyserial

	3.	Launch:

python app3.py


	4.	Visit http://<your_ip>:5100/ on your phone to load the on-screen joystick controls.

2. Launch the MATLAB game
	1.	Open MATLAB and add Wolf_v2/ (and subfolders) to your path.
	2.	In the MATLAB command window, run:

run2d


	3.	Two players will be automatically added on port 5100 (you can adjust ports/IDs in the first lines of run2d.m).

â¸»

ğŸ® How It Works
	1.	run2d.m
	â€¢	Instantiates GameState, adds players, and enters a single loop that:
	1.	Polls each playerâ€™s Joystick (via HTTP GET /api/joystick/<id>).
	2.	Moves players, handles button presses for shooting (br) and interactions (bl).
	3.	Updates all sprites (enemy AIs).
	4.	Resolves collisions (sprite â†” player), processes hitscan shots.
	5.	Checks for win/lose conditions.
	6.	Renders a top-down continuous view via displayContinuousMap.
	2.	Mobile Joystick UI
	â€¢	Left stick: movement (forward/back, strafe).
	â€¢	Right stick: rotation (turn left/right).
	â€¢	Button A (bl): interact (e.g. elevators, chests).
	â€¢	Button B (br): shoot (hitscan raycast).
	3.	Core Classes
	â€¢	GameState: owns arrays of Player and Sprite objects, map data, main logic, and the raycast function.
	â€¢	Player: handle class tracking position, input binding, movement, interactions, shooting, health, win condition.
	â€¢	Sprite: handle class for enemies with pluggable AI (DirectChaser or SmartChaser), pathfinding, collision damage, death.
	â€¢	MapManager: simple occupancy grid (map(row,col,floor)), queries like isCellFree, isCellChest, getElevatorDestination, etc.
	â€¢	SpriteManager: spawns/removes sprites, keeps them in sync with GameState.

â¸»

ğŸ”§ Configuration & Extensions
	â€¢	Ports & IDs
	â€¢	In run2d.m, you call gs.addPlayer(id, PORT); ensure your Flask server and phones agree on port and player IDs.
	â€¢	Map Layout
	â€¢	Edit MapManager.map to design levels (0 = empty, 1+ = wall or special tile).
	â€¢	AI Modes
	â€¢	Set aiBrain = "DirectChaser" or "SmartChaser" when spawning sprites to switch between greedy chasing and A* pathfinding.
	â€¢	Adding New Interactables
	â€¢	Extend MapManager with isCellX, getX, and clear methods (e.g. portals, traps).
	â€¢	In Player.interact(), add a new branch to handle the logic.

â¸»

ğŸ“š Further Reading
	â€¢	DDA Raycasting: Lodeâ€™s Computer Graphics Tutorial
	â€¢	MATLAB OOP: MathWorks Documentation
	â€¢	NippleJS: Official Repo

â¸»

Happy hacking! Feel free to file issues or open PRs to refine the gameplay, add graphics, or extend the multiplayer networking.